[{"diskText":"class Ability\n  include CanCan::Ability\n\n  def initialize(user)\n    user ||= User.guest.new # guest user (not logged in)\n    if user.role.nil?\n      user.guest!\n    end\n\n    case user.role\n    when 'registered'\n      can :read, [Score, Event]\n      can :create, Score, user: { id: user.id}\n    when 'banned'\n      cannot :manage, :all\n    when 'admin'\n      can :manage, :all\n      can :access, :rails_admin\n      can :dashboard\n    else\n      can :read, [Score, Event]\n    end\n\n  end\nend\n","text":"class Ability\n  include CanCan::Ability\n\n  def initialize(user)\n    user ||= User.guest.new # guest user (not logged in)\n    if user.role.nil?\n      user.guest!\n    end\n\n    case user.role\n    when 'registered'\n      can :read, [Score, Event]\n      can :create, Score, user: { id: user.id}\n    when 'banned'\n      cannot :manage, :all\n    when 'admin'\n      can :manage, :all\n      can :access, :rails_admin\n      can :dashboard\n    else\n      can :read, [Score, Event]\n    end\n\n  end\nend\n","active":false,"path":"/Users/camdennarzt/Developer/Ruby/KingOfStrain/app/models/ability.rb","scroll":2,"cursor":{"row":0,"column":0}}]