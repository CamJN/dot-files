#!/usr/local/bin/bash

export NODE_REPL_HISTORY="$HOME/.history/node"
export SQLITE_HISTORY="$HOME/.history/sqlite"

if [ "$(uname)" = "Darwin" ]; then

    export HOMEBREW_INSTALL_BADGE=üç∑
    export HOMEBREW_AUTO_UPDATE_SECS=86400
    export HOMEBREW_NO_GITHUB_API="Doesn't work anyway"
    export HOMEBREW_NO_INSTALL_CLEANUP="Fuck off"
    export HOMEBREW_NO_ANALYTICS="Fuck off, seriously"
    export HOMEBREW_UPDATE_TO_TAG="Homebrew devs suck"
    # export HOMEBREW_BUILD_FROM_SOURCE="Fuck off, forever"
    export HOMEBREW_UPDATE_REPORT_ONLY_INSTALLED=1
    export HOMEBREW_BUNDLE_FILE="$HOME/Developer/Bash/dot-files/homebrew/Brewfile"
    export HOMEBREW_NO_BOTTLE_SOURCE_FALLBACK="fuck you"
    export HOMEBREW_NO_INSTALLED_DEPENDENTS_CHECK="rebuilding llvm for no reason? fuck you"
    export HOMEBREW_BUNDLE_BREW_SKIP="$(grep -F ignore-dependencies $HOMEBREW_BUNDLE_FILE | awk '{print $2}' | tr -d '",')"

    function project {
        if [ "$1" = 'size' ]; then
            find . -type f \( -iname '*.h' -o -name '*.m' -o -name '*.pch' \) -print0 | xargs -0 wc -l | sort -nr
        elif [ "$1" = 'build' ]; then
            xcodebuild
        elif [ "$1" = 'info' ]; then
            xcodebuild -list
        fi
    }

    export GOPATH=~/Developer/Go
    export GOROOT=/usr/local/opt/go/libexec
    export PATH="$PATH:$(paste -s -d ':' - <<< $HOME/Library/Python/*/bin)"
    export PATH=$PATH:$GOPATH/bin
    export PATH=$PATH:$GOROOT/bin
    if [ -f ~/.cargo/env ]; then
        source ~/.cargo/env
    fi
fi
