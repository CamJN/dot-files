# Virtual Hosts
#
# Required modules: mod_log_config

# If you want to maintain multiple domains/hostnames on your
# machine you can setup VirtualHost containers for them. Most configurations
# use only name-based virtual hosts so the server doesn't need to worry about
# IP addresses. This is indicated by the asterisks in the directives below.
#
# Please see the documentation at
# <URL:http://httpd.apache.org/docs/2.4/vhosts/>
# for further details before you try to setup virtual hosts.
#
# You may use the command line option '-S' to verify your virtual host
# configuration.

#
# VirtualHost example:
# Almost any Apache directive may go into a VirtualHost container.
# The first VirtualHost section is used for all requests that do not
# match a ServerName or ServerAlias in any <VirtualHost> block.
#
<VirtualHost *:80>
    Redirect permanent / https://localhost/
    ServerName localhost
    ServerAlias walle.local
</VirtualHost>

<VirtualHost *:443>
    ServerAdmin webmaster@localhost
    DocumentRoot "/Library/WebServer/Documents"
    ServerName localhost
    ServerAlias walle.local
    ErrorLog "/private/var/log/apache2/error_log"
    CustomLog "/private/var/log/apache2/access_log" common
    <Directory "/Library/WebServer/Documents">
        Options Indexes FollowSymLinks MultiViews
        AllowOverride All
        Require all granted
    </Directory>

    Include /private/etc/apache2/extra/httpd-ssl-common.conf
</VirtualHost>

<VirtualHost *:443>
    ServerAdmin webmaster@rust.dev
    DocumentRoot "/usr/local/opt/rust/share/doc/rust/html"
    ServerName rust.dev
    ServerAlias www.rust.dev
    ErrorLog "/private/var/log/apache2/rust.dev-error_log"
    CustomLog "/private/var/log/apache2/rust.dev-access_log" common
    <Directory "/usr/local/opt/rust/share/doc/rust/html/">
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    Include /private/etc/apache2/extra/httpd-ssl-common.conf
</VirtualHost>

<VirtualHost *:443>
    <IfModule php7_module>
        php_admin_value session.save_path "/Users/camdennarzt/Sites/scanimetrics/tmp"
    </IfModule>
    ServerAdmin webmaster@scanimetrics.dev
    DocumentRoot "/Users/camdennarzt/Sites/scanimetrics"
    ServerName scanimetrics.dev
    ServerAlias www.scanimetrics.dev
    ErrorLog "/private/var/log/apache2/scanimetrics.dev-error_log"
    CustomLog "/private/var/log/apache2/scanimetrics.dev-access_log" common
    <Directory "/Users/camdennarzt/Sites/scanimetrics">
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    Include /private/etc/apache2/extra/httpd-ssl-common.conf
</VirtualHost>

<VirtualHost *:443>
    ServerName grafana.dev
    <IfModule proxy_module>
        ProxyPreserveHost On
        ProxyPass /public !
        ProxyPass / http://127.0.0.1:3333/
        ProxyPassReverse / http://127.0.0.1:3333/
    </IfModule>

    DocumentRoot "/Users/camdennarzt/Sites/grafana"
    <Directory "/Users/camdennarzt/Sites/grafana">;
        Require all granted
    </Directory>
    ErrorLog "/private/var/log/apache2/grafana.dev-error_log"
    CustomLog "/private/var/log/apache2/grafana.dev-access_log" common

    Include /private/etc/apache2/extra/httpd-ssl-common.conf
</VirtualHost>

<VirtualHost *:443>
    <IfModule php7_module>
        php_admin_value session.save_path "/Users/camdennarzt/Sites/metabolistics/tmp"
    </IfModule>
    ServerAdmin webmaster@metabolistics.dev
    DocumentRoot "/Users/camdennarzt/Sites/metabolistics"
    ServerName metabolistics.dev
    ServerAlias www.metabolistics.dev
    ErrorLog "/private/var/log/apache2/metabolistics.dev-error_log"
    CustomLog "/private/var/log/apache2/metabolistics.dev-access_log" common
    <Directory "/Users/camdennarzt/Sites/metabolistics">
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    Include /private/etc/apache2/extra/httpd-ssl-common.conf
</VirtualHost>

<VirtualHost *:443>
    <IfModule php7_module>
        php_admin_value session.save_path "/Users/camdennarzt/Sites/silversshadows/tmp"
    </IfModule>
    ServerAdmin webmaster@silversshadows.dev
    DocumentRoot "/Users/camdennarzt/Sites/silversshadows"
    ServerName silversshadows.dev
    ServerAlias www.silversshadows.dev
    ErrorLog "/private/var/log/apache2/silversshadows.dev-error_log"
    CustomLog "/private/var/log/apache2/silversshadows.dev-access_log" common
    <Directory "/Users/camdennarzt/Sites/silversshadows">
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    Include /private/etc/apache2/extra/httpd-ssl-common.conf
</VirtualHost>

<VirtualHost *:443>
    <IfModule php7_module>
        php_admin_value session.save_path "/Users/camdennarzt/Sites/mote.scanimetrics/tmp"
    </IfModule>
    ServerAdmin webmaster@mote.scanimetrics.dev
    DocumentRoot "/Users/camdennarzt/Sites/mote.scanimetrics"
    ServerName mote.scanimetrics.dev
    ServerAlias www.mote.scanimetrics.dev
    ErrorLog "/private/var/log/apache2/mote.scanimetrics.dev-error_log"
    CustomLog "/private/var/log/apache2/mote.scanimetrics.dev-access_log" common
    <Directory "/Users/camdennarzt/Sites/mote.scanimetrics">
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    Include /private/etc/apache2/extra/httpd-ssl-common.conf
</VirtualHost>

<VirtualHost *:443>
    ServerAdmin webmaster@nmr.metabolistics.dev
    DocumentRoot "/Users/camdennarzt/Sites/nmr.metabolistics/public"
    ServerName nmr.metabolistics.dev
    ServerAlias www.nmr.metabolistics.dev
    ErrorLog "/private/var/log/apache2/nmr.metabolistics.dev-error_log"
    CustomLog "/private/var/log/apache2/nmr.metabolistics.dev-access_log" common
    <Directory "/Users/camdennarzt/Sites/nmr.metabolistics/public">
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>
    <IfModule mod_passenger.c>
        PassengerAppEnv development
        PassengerAppRoot "/Users/camdennarzt/Sites/nmr.metabolistics"
        PassengerHighPerformance on
    </IfModule>
    Include /private/etc/apache2/extra/httpd-ssl-common.conf
</VirtualHost>

<VirtualHost *:443>
    ServerAdmin webmaster@m2.dev
    DocumentRoot "/Users/camdennarzt/Sites/m2/public"
    ServerName m2.dev
    ServerAlias www.m2.dev
    ErrorLog "/private/var/log/apache2/m2.dev-error_log"
    CustomLog "/private/var/log/apache2/m2.dev-access_log" common
    Include /private/etc/apache2/extra/httpd-ssl-common.conf

    <IfModule mod_passenger.c>
        PassengerAppEnv development
        PassengerAppRoot "/Users/camdennarzt/Sites/m2"
        PassengerHighPerformance on
    </IfModule>
    <Directory "/Users/camdennarzt/Sites/m2/public">
        Options +FollowSymLinks -MultiViews -Indexes
        Header set Access-Control-Allow-Origin "*"
        AllowOverride All
        Require all granted
    </Directory>
</VirtualHost>

<VirtualHost *:443>
    ServerAdmin webmaster@kingofstrain.dev
    DocumentRoot "/Users/camdennarzt/Sites/kingofstrain/public"
    ServerName kingofstrain.dev
    ServerAlias www.kingofstrain.dev
    ErrorLog "/private/var/log/apache2/kingofstrain.dev-error_log"
    CustomLog "/private/var/log/apache2/kingofstrain.dev-access_log" common
    Include /private/etc/apache2/extra/httpd-ssl-common.conf
    <IfModule mod_passenger.c>
        PassengerAppEnv development
        PassengerAppRoot "/Users/camdennarzt/Sites/kingofstrain"
        PassengerHighPerformance on
    </IfModule>
    <Directory "/Users/camdennarzt/Sites/kingofstrain/public">
        Options +FollowSymLinks -MultiViews -Indexes
        AllowOverride All
        Require all granted
    </Directory>
</VirtualHost>

<VirtualHost *:443>
    ServerAdmin webmaster@splash.silversshadows.dev
    DocumentRoot "/Users/camdennarzt/Sites/splash.silversshadows"
    ServerName splash.silversshadows.dev
    ServerAlias www.splash.silversshadows.dev
    ErrorLog "/private/var/log/apache2/splash.silversshadows.dev-error_log"
    CustomLog "/private/var/log/apache2/splash.silversshadows.dev-access_log" common
    Include /private/etc/apache2/extra/httpd-ssl-common.conf
    <Directory "/Users/camdennarzt/Sites/splash.silversshadows">
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>
</VirtualHost>

<VirtualHost *:443>
    ServerAdmin webmaster@arewesmallyet.dev
    DocumentRoot "/Users/camdennarzt/Sites/arewesmallyet/public"
    ServerName arewesmallyet.dev
    ServerAlias www.arewesmallyet.dev
    ErrorLog "/private/var/log/apache2/arewesmallyet.dev-error_log"
    CustomLog "/private/var/log/apache2/arewesmallyet.dev-access_log" common
    Include /private/etc/apache2/extra/httpd-ssl-common.conf
    <IfModule mod_passenger.c>
        PassengerAppEnv development
        PassengerAppRoot "/Users/camdennarzt/Sites/arewesmallyet"
        PassengerHighPerformance on
    </IfModule>
    <Directory "/Users/camdennarzt/Sites/arewesmallyet/public">
        Options +FollowSymLinks -MultiViews -Indexes
        AllowOverride All
        Require all granted
    </Directory>
</VirtualHost>

<VirtualHost *:443>
    ServerAdmin webmaster@barcoding.dev
    DocumentRoot "/Users/camdennarzt/Sites/barcoding/public"
    ServerName barcoding.dev
    ServerAlias www.barcoding.dev
    ErrorLog "/private/var/log/apache2/barcoding.dev-error_log"
    CustomLog "/private/var/log/apache2/barcoding.dev-access_log" common
    <Directory "/Users/camdennarzt/Sites/barcoding">
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>
    Include /private/etc/apache2/extra/httpd-ssl-common.conf
</VirtualHost>

<VirtualHost *:443>
    ServerAdmin webmaster@compass.dev
    DocumentRoot "/Users/camdennarzt/Sites/compass"
    ServerName compass.dev
    ServerAlias www.compass.dev
    ErrorLog "/private/var/log/apache2/compass.dev-error_log"
    CustomLog "/private/var/log/apache2/compass.dev-access_log" common
    <Directory "/Users/camdennarzt/Sites/compass">
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>
    Include /private/etc/apache2/extra/httpd-ssl-common.conf
</VirtualHost>

<VirtualHost *:443>
    ServerName mailcatcher.dev
    Alias /mailcatcher.dev.png /Users/camdennarzt/.rbenv/versions/2.3.7/lib/ruby/gems/2.3.0/gems/mailcatcher-0.6.5/public/assets/logo_large.png
    <Directory "/Users/camdennarzt/.rbenv/versions/2.3.7/lib/ruby/gems/2.3.0/gems/mailcatcher-0.6.5/public/assets">
        Require all granted
    </Directory>
    ErrorLog "/private/var/log/apache2/mailcatcher.dev-error_log"
    CustomLog "/private/var/log/apache2/mailcatcher.dev-access_log" common
    <IfModule proxy_module>
        ProxyPass /mailcatcher.dev.png !
        ProxyPass / http://127.0.0.1:1080/
        ProxyPassReverse / http://127.0.0.1:1080/
    </IfModule>
    Include /private/etc/apache2/extra/httpd-ssl-common.conf
</VirtualHost>

<VirtualHost *:443>
    ServerAdmin webmaster@phusionpassenger.dev
    ServerName phusionpassenger.dev
    ServerAlias www.phusionpassenger.dev
    ErrorLog "/private/var/log/apache2/phusionpassenger.dev-error_log"
    CustomLog "/private/var/log/apache2/phusionpassenger.dev-access_log" common
    Redirect permanent / /tutorials/what_is_passenger/
    Redirect permanent /tutorials/ /tutorials/what_is_passenger/
    <IfModule proxy_module>
        ProxyPreserveHost On
        SSLProxyEngine On
        ProxyPass / http://127.0.0.1:4567/
        ProxyPassReverse / http://127.0.0.1:4567/
        ProxyPass /livereload wss://127.0.0.1:35730/
        ProxyPassReverse /livereload wss://127.0.0.1:35730/
    </IfModule>
    Header edit Content-Type "text/plain" "text/html"
    Include /private/etc/apache2/extra/httpd-ssl-common.conf
</VirtualHost>

<VirtualHost *:443>
    ServerAdmin webmaster@appminton.dev
    ServerName appminton.dev
    ServerAlias www.appminton.dev
    ErrorLog "/private/var/log/apache2/appminton.dev-error_log"
    CustomLog "/private/var/log/apache2/appminton.dev-access_log" common
    <IfModule proxy_module>
        ProxyPreserveHost On
        SSLProxyEngine On

        ProxyPass /usr_api/updates ws://127.0.0.1:3001/usr_api/updates
        ProxyPassReverse /usr_api/updates ws://127.0.0.1:3001/usr_api/updates

        ProxyPass /usr_api/ http://127.0.0.1:3001/usr_api/
        ProxyPassReverse /usr_api/ http://127.0.0.1:3001/usr_api/

        ProxyPass / http://127.0.0.1:3001/
        ProxyPassReverse / http://127.0.0.1:3001/

        RequestHeader add "Origin" "https://appminton.dev"

    </IfModule>
    Include /private/etc/apache2/extra/httpd-ssl-common.conf
</VirtualHost>

<VirtualHost *:443>
    ServerAdmin webmaster@shield.lock.dev
    ServerName shield.lock.dev
    ServerAlias *.shield.lock.dev
    LogLevel warn proxy:trace5
    ErrorLog "/private/var/log/apache2/shield.lock.dev-error_log"
    CustomLog "/private/var/log/apache2/shield.lock.dev-access_log" common
    <IfModule mod_passenger.c>
        PassengerAppEnv development
        PassengerAppRoot "/Users/camdennarzt/Sites/shield.lock"
        PassengerHighPerformance on
    </IfModule>
    <Directory "/Users/camdennarzt/Sites/shield.lock/public">
        Options +FollowSymLinks -MultiViews -Indexes
        AllowOverride All
        Require all granted
    </Directory>

    <IfModule proxy_module>
        ProxyPreserveHost On
        SSLProxyEngine On

        ProxyPass /packs/ http://127.0.0.1:3035/packs/
        ProxyPassReverse /packs/ http://127.0.0.1:3035/packs/

        ProxyPass /sockjs-node/info http://127.0.0.1:3035/sockjs-node/info
        ProxyPassReverse /sockjs-node/info http://127.0.0.1:3035/sockjs-node/info
        ProxyPass /sockjs-node/iframe.html http://127.0.0.1:3035/sockjs-node/iframe.html
        ProxyPassReverse /sockjs-node/iframe.html http://127.0.0.1:3035/sockjs-node/iframe.html
        ProxyPass /__webpack_dev_server__/sockjs.bundle.js http://127.0.0.1:3035/__webpack_dev_server__/sockjs.bundle.js
        ProxyPassReverse /__webpack_dev_server__/sockjs.bundle.js http://127.0.0.1:3035/__webpack_dev_server__/sockjs.bundle.js

        ProxyPassMatch "/sockjs-node/(.*/(xhr(_streaming)?|jsonp|eventsource|htmlfile).*)$" "http://127.0.0.1:3035/sockjs-node/$1"

        ProxyPass /sockjs-node/ ws://127.0.0.1:3035/sockjs-node/
        ProxyPassReverse /sockjs-node/ ws://127.0.0.1:3035/sockjs-node/

        RequestHeader setIfEmpty "Origin" "expr=%{REQUEST_SCHEME}://%{HTTP_HOST}"
        Header set "Access-Control-Allow-Origin" "https://phusion.shield.lock.dev"
    </IfModule>
    Include /private/etc/apache2/extra/httpd-ssl-common.conf
</VirtualHost>

<VirtualHost *:443>
    ServerName oru.dev
    ServerAlias www.oru.dev
    DocumentRoot "/Users/camdennarzt/Sites/oru"
    <Directory "/Users/camdennarzt/Sites/oru">
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>
    ErrorLog "/private/var/log/apache2/oru-error_log"
    CustomLog "/private/var/log/apache2/oru-access_log" common
    Include /private/etc/apache2/extra/httpd-ssl-common.conf
</VirtualHost>

# replace broken redirects
<VirtualHost *:80>
    ServerName go.redirectingat.com
    <IfModule rewrite_module>
        LogLevel alert rewrite:trace3
        RewriteEngine On
        RewriteMap unescape int:unescape
        RewriteCond %{QUERY_STRING} url=([^&]+)
        RewriteRule ^/.*$ ${unescape:%1} [R=301,L,QSD,NE]
    </IfModule>
    ErrorLog "/private/var/log/apache2/go.redirectingat.com-error_log"
    CustomLog "/private/var/log/apache2/go.redirectingat.com-access_log" common
</VirtualHost>
<VirtualHost *:443>
    ServerName go.redirectingat.com
    <IfModule rewrite_module>
        LogLevel alert rewrite:trace3
        RewriteEngine On
        RewriteMap unescape int:unescape
        RewriteCond %{QUERY_STRING} url=([^&]+)
        RewriteRule ^/.*$ ${unescape:%1} [R=301,L,QSD,NE]
    </IfModule>
    ErrorLog "/private/var/log/apache2/go.redirectingat.com-error_log"
    CustomLog "/private/var/log/apache2/go.redirectingat.com-access_log" common
    Include /private/etc/apache2/extra/httpd-ssl-common.conf
</VirtualHost>
<VirtualHost *:443>
    ServerName slack-redir.net
    <IfModule rewrite_module>
        LogLevel alert rewrite:trace3
        RewriteEngine On
        RewriteMap unescape int:unescape
        RewriteCond %{QUERY_STRING} url=([^&]+)
        RewriteRule ^/.*$ ${unescape:%1} [R=301,L,QSD,NE]
    </IfModule>
    ErrorLog "/private/var/log/apache2/slack-redir.net-error_log"
    CustomLog "/private/var/log/apache2/slack-redir.net-access_log" common
    Include /private/etc/apache2/extra/httpd-ssl-common.conf
</VirtualHost>
<VirtualHost *:80>
    ServerName redirect.viglink.com
    <IfModule rewrite_module>
        LogLevel alert rewrite:trace3
        RewriteEngine On
        RewriteMap unescape int:unescape
        RewriteCond %{QUERY_STRING} u=([^&]+)
        RewriteRule ^/.*$ ${unescape:%1} [R=301,L,QSD,NE]
    </IfModule>
    ErrorLog "/private/var/log/apache2/redirect.viglink.com-error_log"
    CustomLog "/private/var/log/apache2/redirect.viglink.com-access_log" common
</VirtualHost>
<VirtualHost *:443>
    ServerName redirect.viglink.com
    <IfModule rewrite_module>
        LogLevel alert rewrite:trace3
        RewriteEngine On
        RewriteMap unescape int:unescape
        RewriteCond %{QUERY_STRING} u=([^&]+)
        RewriteRule ^/.*$ ${unescape:%1} [R=301,L,QSD,NE]
    </IfModule>
    ErrorLog "/private/var/log/apache2/redirect.viglink.com-error_log"
    CustomLog "/private/var/log/apache2/redirect.viglink.com-access_log" common
    Include /private/etc/apache2/extra/httpd-ssl-common.conf
</VirtualHost>

<VirtualHost *:80>
    ServerName click.email.thinkgeek.com
    DocumentRoot "/Users/camdennarzt/Sites/redirects"
    ErrorLog "/private/var/log/apache2/click.email.thinkgeek.com-error_log"
    CustomLog "/private/var/log/apache2/click.email.thinkgeek.com-access_log" common
    <Directory "/Users/camdennarzt/Sites/redirects">
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>
</VirtualHost>

<VirtualHost *:80>
    ServerName www.anrdoezrs.net
    DocumentRoot "/Users/camdennarzt/Sites/redirects"
    ErrorLog "/private/var/log/apache2/www.anrdoezrs.net-error_log"
    CustomLog "/private/var/log/apache2/www.anrdoezrs.net-access_log" common
    <IfModule rewrite_module>
        RewriteEngine On
        RewriteRule .*/(http.*)$ $1 [R=301,L,QSD,NE]
    </IfModule>
</VirtualHost>
<VirtualHost *:443>
    ServerName ad.doubleclick.net
    ErrorLog "/private/var/log/apache2/ad.doubleclick.net-error_log"
    CustomLog "/private/var/log/apache2/ad.doubleclick.net-access_log" common
    <IfModule rewrite_module>
        LogLevel alert rewrite:trace3
        RewriteEngine On
        RewriteCond %{QUERY_STRING} .*(http.*)\?.*$
        RewriteRule  .* %1? [R=301,L,NE,QSD]
    </IfModule>
    Include /private/etc/apache2/extra/httpd-ssl-common.conf
</VirtualHost>

<VirtualHost *:443>
    ServerName www.ojrq.net
    <IfModule rewrite_module>
        LogLevel alert rewrite:trace3
        RewriteEngine On
        RewriteMap unescape int:unescape
        RewriteCond %{QUERY_STRING} return=([^&]+)
        RewriteRule ^/.*$ ${unescape:%1} [R=301,L,QSD,NE]
    </IfModule>
    ErrorLog "/private/var/log/apache2/www.ojrq.net-error_log"
    CustomLog "/private/var/log/apache2/www.ojrq.net-access_log" common
    Include /private/etc/apache2/extra/httpd-ssl-common.conf
</VirtualHost>
