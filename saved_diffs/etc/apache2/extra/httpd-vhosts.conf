etc/apache2/extra/httpd-vhosts.conf --- Text
 21 # match a ServerName or ServerAlias in any <VirtualHost> block.                                        21 # match a ServerName or ServerAlias in any <VirtualHost> block.
 22 #                                                                                                      22 #
 23 <VirtualHost *:80>                                                                                     23 <VirtualHost *:80>
 24     Redirect permanent / https://localhost/                                                            24     ServerAdmin webmaster@dummy-host.example.com
 25     ServerName localhost                                                                               .. 
 26     ServerAlias walle.local                                                                            .. 
 27     <Location "/">                                                                                     25     DocumentRoot "/usr/docs/dummy-host.example.com"
 28         Require ip 10.9.8.0/24                                                                         26     ServerName dummy-host.example.com
 29         Require ip 10.9.9.0/24                                                                         27     ServerAlias www.dummy-host.example.com
 30         Require local                                                                                  28     ErrorLog "/private/var/log/apache2/dummy-host.example.com-error_log"
 31     </Location>                                                                                        29     CustomLog "/private/var/log/apache2/dummy-host.example.com-access_log" common
 32 </VirtualHost>                                                                                         30 </VirtualHost>
 33                                                                                                        31 
 34 <VirtualHost *:443>                                                                                    32 <VirtualHost *:80>
 35     ServerAdmin webmaster@localhost                                                                    33     ServerAdmin webmaster@dummy-host2.example.com
 36     DocumentRoot "/Library/WebServer/Documents"                                                        34     DocumentRoot "/usr/docs/dummy-host2.example.com"
 37     ServerName localhost                                                                               35     ServerName dummy-host2.example.com
 38     ServerAlias walle.local                                                                            .. 
 39     ErrorLog "/private/var/log/apache2/error_log"                                                      36     ErrorLog "/private/var/log/apache2/dummy-host2.example.com-error_log"
 40     CustomLog "/private/var/log/apache2/access_log" common                                             37     CustomLog "/private/var/log/apache2/dummy-host2.example.com-access_log" common
 41     <Directory "/Library/WebServer/Documents">                                                         .. 
 42         Options Indexes FollowSymLinks MultiViews                                                      .. 
 43         AllowOverride All                                                                              .. 
 44         Require ip 10.9.8.0/24                                                                         .. 
 45         Require ip 10.9.9.0/24                                                                         .. 
 46         Require local                                                                                  .. 
 47     </Directory>                                                                                       .. 
 48     <Location "/server-status">                                                                        .. 
 49         SetHandler server-status                                                                       .. 
 50         Require ip 10.9.8.0/24                                                                         .. 
 51         Require ip 10.9.9.0/24                                                                         .. 
 52         Require local                                                                                  .. 
 53     </Location>                                                                                        .. 
 54     Include /private/etc/apache2/extra/httpd-ssl-common.conf                                           .. 
 55 </VirtualHost>                                                                                         38 </VirtualHost>
 56                                                                                                        39 
 57 <VirtualHost *:443>                                                                                    .. 
 58     ServerAdmin webmaster@rust.test                                                                    .. 
 59     DocumentRoot "/Users/camdennarzt/Sites/rust_docs"                                                  .. 
 60     ServerName rust.test                                                                               .. 
 61     ServerAlias www.rust.test                                                                          .. 
 62     ErrorLog "/private/var/log/apache2/rust.test-error_log"                                            .. 
 63     CustomLog "/private/var/log/apache2/rust.test-access_log" common                                   .. 
 64     <Directory "/Users/camdennarzt/Sites/rust_docs">                                                   .. 
 65         Options Indexes FollowSymLinks                                                                 .. 
 66         AllowOverride All                                                                              .. 
 67         Require ip 10.9.8.0/24                                                                         .. 
 68         Require ip 10.9.9.0/24                                                                         .. 
 69         Require local                                                                                  .. 
 70     </Directory>                                                                                       .. 
 71                                                                                                        40 
 72     Include /private/etc/apache2/extra/httpd-ssl-common.conf                                           .. 
 73 </VirtualHost>                                                                                         .. 
 74                                                                                                        41 
 75 <VirtualHost *:443>                                                                                       
 76     ServerAdmin webmaster@compass.test                                                                    
 77     DocumentRoot "/Users/camdennarzt/Sites/compass"                                                       
 78     ServerName compass.test                                                                               
 79     ServerAlias www.compass.test                                                                          
 80     ErrorLog "/private/var/log/apache2/compass.test-error_log"                                            
 81     CustomLog "/private/var/log/apache2/compass.test-access_log" common                                   
 82     <Directory "/Users/camdennarzt/Sites/compass">                                                        
 83         Options Indexes FollowSymLinks                                                                    
 84         AllowOverride All                                                                                 
 85         Require ip 10.9.8.0/24                                                                            
 86         Require ip 10.9.9.0/24                                                                            
 87         Require local                                                                                     
 88     </Directory>                                                                                          
 89     Include /private/etc/apache2/extra/httpd-ssl-common.conf                                              
 90 </VirtualHost>                                                                                            
 91                                                                                                           
 92 <VirtualHost *:443>                                                                                       
 93     ServerName mailcatcher.test                                                                           
 94     ErrorLog "/private/var/log/apache2/mailcatcher.test-error_log"                                        
 95     CustomLog "/private/var/log/apache2/mailcatcher.test-access_log" common                               
 96     <Location "/">                                                                                        
 97         Require ip 10.9.8.0/24                                                                            
 98         Require ip 10.9.9.0/24                                                                            
 99         Require local                                                                                     
100     </Location>                                                                                           
101     <IfModule proxy_module>                                                                               
102         ProxyPass /api/v2/websocket ws://127.0.0.1:8025/api/v2/websocket                                  
103         ProxyPassReverse /api/v2/websocket ws://127.0.0.1:8025/api/v2/websocket                           
104         ProxyPass / http://127.0.0.1:8025/                                                                
105         ProxyPassReverse / http://127.0.0.1:8025/                                                         
106     </IfModule>                                                                                           
107     Include /private/etc/apache2/extra/httpd-ssl-common.conf                                              
108 </VirtualHost>                                                                                            
109                                                                                                           
110 <VirtualHost *:443>                                                                                       
111     ServerName unifi.test                                                                                 
112     ErrorLog "/private/var/log/apache2/unifi.test-error_log"                                              
113     CustomLog "/private/var/log/apache2/unifi.test-access_log" common                                     
114     <Location "/">                                                                                        
115         Require ip 10.9.8.0/24                                                                            
116         Require ip 10.9.9.0/24                                                                            
117         Require local                                                                                     
118     </Location>                                                                                           
119     <IfModule proxy_module>                                                                               
120         SSLProxyEngine On                                                                                 
121         SSLProxyCheckPeerCN Off                                                                           
122         SSLProxyCheckPeerName Off                                                                         
123         ProxyPass / https://127.0.0.1:8443/                                                               
124         ProxyPassReverse / https://127.0.0.1:8443/                                                        
125     </IfModule>                                                                                           
126     Include /private/etc/apache2/extra/httpd-ssl-common.conf                                              
127 </VirtualHost>                                                                                            
128                                                                                                           
129 <VirtualHost *:443>                                                                                       
130     ServerAdmin webmaster@phusionpassenger.test                                                           
131     ServerName phusionpassenger.test                                                                      
132     ServerAlias www.phusionpassenger.test                                                                 
133     ErrorLog "/private/var/log/apache2/phusionpassenger.test-error_log"                                   
134     CustomLog "/private/var/log/apache2/phusionpassenger.test-access_log" common                          
135     Redirect permanent / /tutorials/what_is_passenger/                                                    
136     Redirect permanent /tutorials/ /tutorials/what_is_passenger/                                          
137     <Location "/">                                                                                        
138         Require ip 10.9.8.0/24                                                                            
139         Require ip 10.9.9.0/24                                                                            
140         Require local                                                                                     
141     </Location>                                                                                           
142     <IfModule proxy_module>                                                                               
143         ProxyPreserveHost On                                                                              
144         SSLProxyEngine On                                                                                 
145         ProxyPass / http://127.0.0.1:4567/                                                                
146         ProxyPassReverse / http://127.0.0.1:4567/                                                         
147         ProxyPass /livereload wss://127.0.0.1:35730/                                                      
148         ProxyPassReverse /livereload wss://127.0.0.1:35730/                                               
149     </IfModule>                                                                                           
150     Header edit Content-Type "text/plain" "text/html"                                                     
151     Include /private/etc/apache2/extra/httpd-ssl-common.conf                                              
152 </VirtualHost>                                                                                            
153                                                                                                           
154 <VirtualHost *:443>                                                                                       
155     ServerName heartwork.test                                                                             
156     ErrorLog "/private/var/log/apache2/heartwork.test-error_log"                                          
157     CustomLog "/private/var/log/apache2/heartwork.test-access_log" common                                 
158     Include /private/etc/apache2/extra/httpd-ssl-common.conf                                              
159                                                                                                           
160     DocumentRoot "/Users/camdennarzt/Sites/heartwork/public"                                              
161     <Directory "/Users/camdennarzt/Sites/heartwork/public">                                               
162         Options +FollowSymLinks -MultiViews -Indexes                                                      
163         AllowOverride All                                                                                 
164         Require ip 10.9.8.0/24                                                                            
165         Require ip 10.9.9.0/24                                                                            
166         Require local                                                                                     
167     </Directory>                                                                                          
168                                                                                                           
169     <IfModule passenger_module>                                                                           
170         PassengerAppEnv development                                                                       
171     </IfModule>                                                                                           
172                                                                                                           
173 </VirtualHost>                                                                                            
174                                                                                                           
175 <VirtualHost *:443>                                                                                       
176     ServerName www.diefernweherin.com                                                                     
177                                                                                                           
178     <Location "/">                                                                                        
179         Require method GET                                                                                
180     </Location>                                                                                           
181     LogLevel debug proxy:trace5                                                                           
182     ErrorLog "/private/var/log/apache2/www.diefernweherin-error_log"                                      
183     CustomLog "/private/var/log/apache2/www.diefernweherin-access_log" common                             
184                                                                                                           
185     ExpiresActive On                                                                                      
186     ExpiresDefault "access plus 3 days"                                                                   
187                                                                                                           
188     CacheEnable disk /                                                                                    
189     # CacheRoot /var/run/apache2/mod_cache_disk/routing                                                   
190     # CacheRoot /var/db/caches/apache2/                                                                   
191     CacheRoot /Library/Caches/apache2/                                                                    
192     CacheQuickHandler off                                                                                 
193     CacheLock on                                                                                          
194     CacheLockPath /tmp/mod_cache.lock                                                                     
195     CacheLockMaxAge 5                                                                                     
196     # CacheHeader On                                                                                      
197     CacheStaleOnError on                                                                                  
198     # CacheIgnoreCacheControl On     # ignore browsers asking to bypass cache                             
199     CacheIgnoreNoLastMod On                                                                               
200     CacheIgnoreQueryString On                                                                             
201                                                                                                           
202     # Apache doesn't cache things with their own cache headers?                                           
203     Header unset Link                                                                                     
204     Header unset X-Pingback                                                                               
205     # Header unset Pragma                                                                                 
206                                                                                                           
207     ProxyRequests Off # used for forward proxying                                                         
208     SSLProxyEngine On                                                                                     
209     SSLProxyCACertificateFile "/Users/camdennarzt/Developer/Certs/demoCA/cacert.pem"                      
210     SSLProxyCheckPeerCN off                                                                               
211     SSLProxyCheckPeerName on                                                                              
212                                                                                                           
213     RequestHeader set Host upstream.diefernweherin.com                                                    
214     # might be needed                                                                                     
215     #ProxyPreserveHost On                                                                                 
216     ProxyPass / https://upstream.diefernweherin.com/                                                      
217     ProxyPassReverse / https://upstream.diefernweherin.com/                                               
218                                                                                                           
219     AddOutputFilterByType INFLATE;SUBSTITUTE;DEFLATE;CACHE text/html text/plain text/xml application/r    
... ss+xml application/xml                                                                                    
220     Substitute "s/upstream.diefernweherin.com/www.diefernweherin.com/nq"                                  
221                                                                                                           
222     Include /private/etc/apache2/extra/httpd-ssl-common.conf                                              
223 </VirtualHost>                                                                                            
224                                                                                                           
225 <VirtualHost *:443>                                                                                       
226     ServerAdmin webmaster@localhost                                                                       
227     ServerName upstream.diefernweherin.com                                                                
228                                                                                                           
229     ErrorLog "/private/var/log/apache2/upstream.diefernweherin-error_log"                                 
230     CustomLog "/private/var/log/apache2/upstream.diefernweherin-access_log" common                        
231                                                                                                           
232     DocumentRoot "/Users/camdennarzt/Sites/diefernweherin"                                                
233     <Directory "/Users/camdennarzt/Sites/diefernweherin">                                                 
234         Options FollowSymLinks MultiViews                                                                 
235         AllowOverride All                                                                                 
236         Require all granted                                                                               
237         <Files "wp-login.php">                                                                            
238             Require ip 10.9.8.0/24                                                                        
239             Require ip 10.9.9.0/24                                                                        
240         </Files>                                                                                          
241     </Directory>                                                                                          
242     <Directory "/Users/camdennarzt/Sites/diefernweherin/wp-admin">                                        
243         Require ip 10.9.8.0/24                                                                            
244         Require ip 10.9.9.0/24                                                                            
245     </Directory>                                                                                          
246                                                                                                           
247     Include /private/etc/apache2/extra/httpd-ssl-common.conf                                              
248 </VirtualHost>                                                                                            
249 <VirtualHost *:80>                                                                                        
250     Redirect permanent / https://www.diefernweherin.com                                                   
251     ServerName diefernweherin.com                                                                         
252     ServerAlias upstream.diefernweherin.com                                                               
253     ServerAlias www.diefernweherin.com                                                                    
254 </VirtualHost>                                                                                            

